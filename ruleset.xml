<?xml version="1.0"?>
<ruleset name="Crowfeather Standard">
  <description>A custom coding standard based on PSR2.</description>

  <rule ref="PSR2">
    <exclude name="PSR2.Classes.ClassDeclaration.MissingBrace"/>
  </rule>
  <rule ref="Squiz.Commenting">
    <exclude name="Squiz.Commenting.FunctionComment.TypeHintMissing"/>
    <exclude name="Squiz.Commenting.FunctionComment.ScalarTypeHintMissing"/>
    <exclude name="Squiz.Commenting.DocCommentAlignment"/>
    <exclude name="Squiz.Commenting.FileComment"/>
    <exclude name="Squiz.Commenting.FunctionComment.MissingParamComment"/>
    <exclude name="Squiz.Commenting.ClassComment.Missing"/>
    <exclude name="Squiz.Commenting.ClosingDeclarationComment.Missing"/>
    <exclude name="Squiz.Commenting.FileComment.Missing"/>
    <exclude name="Squiz.Commenting.BlockComment.FirstLineIndent"/>
    <exclude name="Squiz.Commenting.BlockComment.LastLineIndent"/>
    <exclude name="Squiz.Commenting.BlockComment.NoEmptyLineAfter"/>
    <exclude name="Squiz.Commenting.BlockComment.LineIndent"/>
    <exclude name="Squiz.Classes.ValidClassName.MissingBrace"/>
    <exclude name="Squiz.Commenting.BlockComment"/>
    <exclude name="Squiz.Commenting.InlineComment.DocBlock"/>
  </rule>
  <rule ref="Squiz.WhiteSpace.MemberVarSpacing">
    <exclude name="Squiz.WhiteSpace.MemberVarSpacing.FirstIncorrect"/>
    <exclude name="Squiz.WhiteSpace.FunctionSpacing.Before"/>
  </rule>
  <rule ref="Generic.Formatting">
    <exclude name="Generic.Formatting.MultipleStatementAlignment.NotSameWarning"/>
    <exclude name="Generic.Formatting.NoSpaceAfterCast.SpaceFound"/>
    <exclude name="Generic.Formatting.SpaceBeforeCast.NoSpace"/>
    <exclude name="Generic.Commenting.DocComment.MissingShort"/>
  </rule>
  <rule ref="Generic.PHP.DeprecatedFunctions"/>
  <rule ref="Generic.PHP.ForbiddenFunctions"/>
  <rule ref="Generic.PHP.NoSilencedErrors"/>
  <rule ref="Generic.Strings.UnnecessaryStringConcat"/>
  <rule ref="MySource.PHP.AjaxNullComparison"/>
  <rule ref="MySource.PHP.EvalObjectFactory"/>
  <rule ref="PEAR.Commenting.InlineComment"/>
  <rule ref="Squiz.PHP.CommentedOutCode"/>
  <rule ref="Squiz.WhiteSpace.SuperfluousWhitespace"/>
  <rule ref="Generic.CodeAnalysis.EmptyStatement"/>
  <rule ref="Generic.CodeAnalysis.UnusedFunctionParameter"/>
  <rule ref="Generic.CodeAnalysis.UnusedFunctionParameter">
    <exclude name="Generic.CodeAnalysis.UnusedFunctionParameter.FoundInExtendedClassBeforeLastUsed"/>
    <exclude name="Generic.CodeAnalysis.UnusedFunctionParameter.FoundInExtendedClassAfterLastUsed"/>
    <exclude name="Generic.CodeAnalysis.UnusedFunctionParameter.FoundInExtendedClass"/>
  </rule>
  <rule ref="Generic.Commenting">
    <exclude name="Generic.Commenting.DocComment.SpacingAfter"/>
    <exclude name="Generic.Commenting.DocComment.NonParamGroup"/>
  </rule>
  <rule ref="Generic.Commenting.DocComment.SpacingAfter"/>
  <rule ref="Generic.Commenting.Fixme"/>
  <rule ref="Generic.Commenting.Todo"/>
  <rule ref="Generic.Formatting.MultipleStatementAlignment"/>
  <rule ref="Generic.Formatting.SpaceAfterCast"/>
  <rule ref="Generic.Formatting.SpaceAfterNot"/>
  <rule ref="Generic.WhiteSpace.ScopeIndent.Incorrect"/>
  <rule ref="Generic.Arrays.DisallowLongArraySyntax"/>
  <rule ref="Squiz.Classes.ClassFileName"/>
    <rule ref="PEAR.Commenting.FunctionComment">
    <exclude name="PEAR.Commenting.FunctionComment.MissingParamComment"/>
  </rule>
  <rule ref="PSR2.Methods.FunctionCallSignature">
    <properties>
      <property name="allowMultipleArguments" value="true"/>
    </properties>
  </rule>
  <rule ref="Squiz.WhiteSpace.FunctionSpacing">
    <exclude name="Squiz.WhiteSpace.FunctionSpacing.After"/>
    <exclude name="Squiz.WhiteSpace.FunctionSpacing.AfterLast"/>
    <exclude name="Squiz.WhiteSpace.FunctionSpacing.BeforeFirst"/>
    <properties>
      <property name="ignoreComments" value="true"/>
            <property name="spacing" value="1"/>
        </properties>
    </rule>

  <file>./</file>

  <exclude-pattern>*/assets/*</exclude-pattern>
  <exclude-pattern>*/config/*</exclude-pattern>
  <exclude-pattern>*/data/*</exclude-pattern>
  <exclude-pattern>*/database/*</exclude-pattern>
  <exclude-pattern>*/tests/*</exclude-pattern>
  <exclude-pattern>*/vendor/*</exclude-pattern>
  <exclude-pattern>*/views/*</exclude-pattern>

  <ini name="memory_limit" value="64M"/>
  <arg name="colors"/>
  <arg value="sp"/>
</ruleset>
